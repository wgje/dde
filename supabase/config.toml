# Supabase 本地开发配置
# 
# 注意：此文件主要用于本地开发，生产环境配置在 Supabase Dashboard 中管理

# ===========================================
# Edge Functions 配置
# ===========================================
[functions.transcribe]
# verify_jwt = false   # 🔐 生产环境：保持 true（默认）
# 如果需要临时调试，取消注释上一行

# 详细说明：
# - 默认情况下，Supabase Edge Functions 会在网关层验证 JWT
# - 如果 JWT 无效，请求会返回 401，不会到达你的函数代码
# - 设置 verify_jwt = false 会跳过网关层的 JWT 验证
# - ⚠️ 生产环境应始终使用 JWT 验证，在函数内部进行认证检查

# ===========================================
# 数据库配置（本地开发）
# ===========================================
[db]
# 端口设置（本地开发使用）
port = 54322
shadow_port = 54320
major_version = 15

# ===========================================
# API 配置
# ===========================================
[api]
# 本地 API 端口
port = 54321
# 启用的 schema
schemas = ["public", "storage"]
# 额外搜索路径
extra_search_path = ["public", "extensions"]
# 每秒最大行数
max_rows = 1000

# ===========================================
# Studio 配置（本地开发）
# ===========================================
[studio]
enabled = true
port = 54323
